# Project Variables
project_id = "your-project-id"

# Region and Zone Variables
default_region = "us-west1"
region_2       = "us-central1"
region_3       = "us-east1"

zones = {
  "us-west1"    = ["us-west1-a", "us-west1-b"]
  "us-central1" = ["us-central1-a", "us-central1-b"]
  "us-east1"    = ["us-east1-b", "us-east1-c"]
}

# Network Variables
network_name = "pexip-infinity-network"
enable_public_ips = true

subnet_cidr_ranges = {
  "us-west1"    = "10.0.0.0/20"
  "us-central1" = "10.1.0.0/20"
  "us-east1"    = "10.2.0.0/20"
}

# Management Node Variables
mgmt_node_name     = "pexip-mgr"
mgmt_machine_type  = "n2-highcpu-4"
mgmt_node_disk_size = 100
mgmt_node_disk_type = "pd-ssd"
mgmt_node_hostname  = "mgr"
mgmt_node_domain    = "pexip.example.com"
mgmt_node_gateway   = "10.0.0.1"

# These should be generated and populated securely - do not commit actual values
mgmt_node_admin_password_hash = "" # PBKDF2 SHA-256 hash format
mgmt_node_os_password_hash    = "" # SHA-512 hash format

# Conference Node Variables
conf_node_name     = "pexip-conf"
conf_machine_type  = "n2-highcpu-8"
conf_node_disk_size = 50
conf_node_disk_type = "pd-ssd"

conf_node_count = {
  "us-west1"    = 2  # Primary region
  "us-central1" = 2  # Secondary region
  "us-east1"    = 1  # Tertiary region
}

# Firewall Configuration

# IPs that will access the management node for configuration
management_allowed_cidrs = [
  "10.0.0.0/8",      # Example network private IP or range
  "203.0.113.0/24"   # Example network public IP or range
]

# IPs that will access the conference nodes for all signaling, media, and WebRTC
conf_node_allowed_cidrs = [
  "10.0.0.0/8",      # Example network private IP or range
  "203.0.113.0/24"   # Example network public IP or range
]

# DNS and NTP Configuration
dns_servers = [
  "8.8.8.8",
  "8.8.4.4"
]

ntp_servers = [
  "169.254.169.254"  # GCP metadata server
]

# Pexip Configuration
enable_error_reporting = true
enable_analytics      = true

# Image Configuration
pexip_version           = "36"
pexip_mgr_image_source  = "/path/to/Pexip_Infinity_v36_GCP_pxMgr.tar.gz"
pexip_conf_image_source = "/path/to/Pexip_Infinity_v36_GCP_ConfNode.tar.gz"

# Storage Configuration
storage_bucket_location = "US"
pexip_images_bucket    = "pexip-infinity-images"

# Labels
labels = {
  environment = "production"
  team        = "conferencing"
  application = "pexip"
  managed-by  = "terraform"
}