# =============================================================================
# Required Parameters
# =============================================================================

# GCP project ID where Pexip Infinity will be deployed
project_id = "your-project-id"

# Network Configuration - Must have an existing VPC network and subnet
regions = [{
  region      = "us-central1"     # Primary region for deployment
  network     = "pexip-infinity"  # Name of existing VPC network
  subnet_name = "pexip-subnet"    # Name of existing subnet in the VPC
}]

# =============================================================================
# Image Configuration
# =============================================================================
# Option 1: Using existing images from your GCP project
pexip_images = {
  upload_files = false  # Set to false when using existing GCP images
  management = {
    image_name = "pexip-infinity-management-v30"  # Name of existing management node image in GCP
  }
  conferencing = {
    image_name = "pexip-infinity-conferencing-v30"  # Name of existing conferencing node image in GCP
  }
}

# Option 2: Uploading new images from local files
# Uncomment and modify the following block if you want to upload new images
# pexip_images = {
#   upload_files = true   # Set to true to upload new images
#   management = {
#     source_file = "/path/to/Pexip_Infinity_Management_Node_v30.tar.gz"
#     image_name  = "pexip-infinity-management-v30"
#   }
#   conferencing = {
#     source_file = "/path/to/Pexip_Infinity_Conferencing_Node_v30.tar.gz"
#     image_name  = "pexip-infinity-conferencing-v30"
#   }
# }

# Management Access Configuration - Restrict these CIDR ranges in production!
management_access = {
  cidr_ranges = ["0.0.0.0/0"]  # Replace with your allowed IP ranges
}

# Management Node Configuration
management_node = {
  name      = "mgmt-1"        # Name prefix for the instance
  region    = "us-central1"   # Must match one of the regions above
  public_ip = true           # Whether to assign a public IP
}

# Transcoding Node Configuration (Optional)
transcoding_nodes = {
  regional_config = {
    "us-central1" = {
      count     = 1           # Number of nodes to deploy
      name      = "transcode" # Name prefix for instances
      public_ip = true       # Whether to assign public IPs
    }
  }
}
